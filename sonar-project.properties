# =============================================================================
# TruckTrack - SonarCloud Configuration
# =============================================================================

# Project identification (must match SonarCloud project)
sonar.projectKey=salimomrani_trucktrack
sonar.organization=salimomrani
sonar.projectName=TruckTrack - GPS Fleet Management

# Project version
sonar.projectVersion=1.0.0

# Source encoding
sonar.sourceEncoding=UTF-8

# =============================================================================
# Backend Configuration (Java/Spring Boot)
# =============================================================================
sonar.modules=backend,frontend

# Backend module
backend.sonar.projectName=TruckTrack Backend
backend.sonar.sources=auth-service/src/main/java,\
  gps-ingestion-service/src/main/java,\
  location-service/src/main/java,\
  notification-service/src/main/java,\
  api-gateway/src/main/java,\
  shared/src/main/java
backend.sonar.tests=auth-service/src/test/java,\
  gps-ingestion-service/src/test/java,\
  location-service/src/test/java,\
  notification-service/src/test/java
backend.sonar.java.source=17
backend.sonar.java.target=17
backend.sonar.java.coveragePlugin=jacoco
backend.sonar.coverage.jacoco.xmlReportPaths=**/target/site/jacoco/jacoco.xml
backend.sonar.junit.reportPaths=**/target/surefire-reports

# Backend exclusions
backend.sonar.exclusions=\
  **/generated/**,\
  **/target/**,\
  **/*Application.java,\
  **/*Config.java,\
  **/*Configuration.java
backend.sonar.coverage.exclusions=\
  **/*Application.java,\
  **/*Config.java,\
  **/*Configuration.java,\
  **/model/**,\
  **/dto/**,\
  **/entity/**,\
  **/exception/**

# =============================================================================
# Frontend Configuration (Angular/TypeScript)
# =============================================================================
frontend.sonar.projectName=TruckTrack Frontend
frontend.sonar.sources=src
frontend.sonar.tests=src
frontend.sonar.test.inclusions=**/*.spec.ts
frontend.sonar.exclusions=\
  **/node_modules/**,\
  **/dist/**,\
  **/coverage/**,\
  **/*.spec.ts,\
  **/test.ts,\
  **/environments/**
frontend.sonar.typescript.lcov.reportPaths=coverage/frontend/lcov.info
frontend.sonar.javascript.lcov.reportPaths=coverage/frontend/lcov.info

# =============================================================================
# Quality Gate
# =============================================================================
sonar.qualitygate.wait=true

# =============================================================================
# Analysis settings
# =============================================================================
sonar.log.level=INFO
sonar.verbose=false

# Duplications exclusions
sonar.cpd.exclusions=\
  **/model/**,\
  **/dto/**,\
  **/entity/**,\
  **/*.spec.ts
