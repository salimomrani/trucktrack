<div class="bg-white rounded-lg shadow-lg border border-gray-200 p-4">
  <div class="flex items-center justify-between mb-3">
    <span class="text-sm font-semibold text-gray-700">Filter by Status</span>
    @if (hasActiveFilters()) {
      <button
        type="button"
        class="p-1 text-gray-400 hover:text-primary-600 transition-colors"
        (click)="clearFilters()"
        title="Clear all filters"
        aria-label="Clear all filters">
        <span class="material-icons text-lg">filter_alt_off</span>
      </button>
    }
  </div>

  <div class="space-y-2">
    <!-- ACTIVE Filter -->
    <label
      class="flex items-center gap-3 p-2 rounded-md cursor-pointer hover:bg-gray-50 transition-colors"
      tabindex="0"
      role="checkbox"
      [attr.aria-checked]="activeFilter()"
      [attr.aria-label]="'Filter by active status, ' + activeCount() + ' trucks'"
      (keydown)="onKeydown($event, 'active')">
      <input
        type="checkbox"
        class="w-4 h-4 text-success-600 bg-gray-100 border-gray-300 rounded focus:ring-success-500 focus:ring-2"
        [checked]="activeFilter()"
        (change)="toggleActive()">
      <span class="flex items-center gap-2 flex-1">
        <span class="w-2.5 h-2.5 rounded-full bg-success-500"></span>
        <span class="text-sm text-gray-700">Active</span>
        <span class="text-xs text-gray-400">({{ activeCount() }})</span>
      </span>
    </label>

    <!-- IDLE Filter -->
    <label
      class="flex items-center gap-3 p-2 rounded-md cursor-pointer hover:bg-gray-50 transition-colors"
      tabindex="0"
      role="checkbox"
      [attr.aria-checked]="idleFilter()"
      [attr.aria-label]="'Filter by idle status, ' + idleCount() + ' trucks'"
      (keydown)="onKeydown($event, 'idle')">
      <input
        type="checkbox"
        class="w-4 h-4 text-warning-600 bg-gray-100 border-gray-300 rounded focus:ring-warning-500 focus:ring-2"
        [checked]="idleFilter()"
        (change)="toggleIdle()">
      <span class="flex items-center gap-2 flex-1">
        <span class="w-2.5 h-2.5 rounded-full bg-warning-500"></span>
        <span class="text-sm text-gray-700">Idle</span>
        <span class="text-xs text-gray-400">({{ idleCount() }})</span>
      </span>
    </label>

    <!-- OFFLINE Filter -->
    <label
      class="flex items-center gap-3 p-2 rounded-md cursor-pointer hover:bg-gray-50 transition-colors"
      tabindex="0"
      role="checkbox"
      [attr.aria-checked]="offlineFilter()"
      [attr.aria-label]="'Filter by offline status, ' + offlineCount() + ' trucks'"
      (keydown)="onKeydown($event, 'offline')">
      <input
        type="checkbox"
        class="w-4 h-4 text-gray-600 bg-gray-100 border-gray-300 rounded focus:ring-gray-500 focus:ring-2"
        [checked]="offlineFilter()"
        (change)="toggleOffline()">
      <span class="flex items-center gap-2 flex-1">
        <span class="w-2.5 h-2.5 rounded-full bg-gray-400"></span>
        <span class="text-sm text-gray-700">Offline</span>
        <span class="text-xs text-gray-400">({{ offlineCount() }})</span>
      </span>
    </label>
  </div>

  <!-- Filter Summary -->
  @if (hasActiveFilters()) {
    <div class="mt-3 pt-3 border-t border-gray-100 text-xs text-gray-500">
      Showing {{ filteredCount() }} of {{ trucks().length }} trucks
    </div>
  }
</div>
