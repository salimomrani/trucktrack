<div
  class="bg-white dark:bg-gray-800 rounded-lg shadow-card overflow-hidden"
  role="figure"
  [attr.aria-label]="'Graphique de distance parcourue par jour: ' + getChartSummary()"
  [attr.aria-busy]="isLoading()">

  <div class="px-4 py-3 border-b border-gray-100 dark:border-gray-700">
    <h3 class="text-base font-semibold text-gray-800 dark:text-gray-100">Distance parcourue par jour</h3>
  </div>

  <div class="p-4">
    @if (isLoading()) {
      <div class="flex items-center justify-center h-[300px]" aria-hidden="true">
        <div class="animate-spin rounded-full h-10 w-10 border-4 border-primary-500 border-t-transparent"></div>
      </div>
    } @else if (chartData().length === 0) {
      <app-empty-state
        preset="analytics"
        title="Aucune donnée de distance"
        message="Pas de données de distance pour cette période"
        size="sm"
      />
    } @else {
      <ngx-charts-line-chart
        [view]="[chartWidth(), 300]"
        [scheme]="colorScheme"
        [results]="chartData()"
        [xAxis]="true"
        [yAxis]="true"
        [legend]="false"
        [showXAxisLabel]="true"
        [showYAxisLabel]="true"
        [xAxisLabel]="'Date'"
        [yAxisLabel]="'Distance (km)'"
        [autoScale]="true"
        [timeline]="false"
        [roundDomains]="true">
      </ngx-charts-line-chart>
    }
  </div>
</div>
