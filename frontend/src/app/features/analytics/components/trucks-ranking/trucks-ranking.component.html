<div
  class="bg-white dark:bg-gray-800 rounded-lg shadow-card overflow-hidden"
  role="figure"
  [attr.aria-label]="'Classement des camions par distance: ' + getChartSummary()"
  [attr.aria-busy]="isLoading()">

  <div class="px-4 py-3 border-b border-gray-100 dark:border-gray-700">
    <h3 class="text-base font-semibold text-gray-800 dark:text-gray-100">Top 10 Camions par distance</h3>
  </div>

  <div class="p-4">
    @if (isLoading()) {
      <div class="flex items-center justify-center h-[350px]" aria-hidden="true">
        <div class="animate-spin rounded-full h-10 w-10 border-4 border-primary-500 border-t-transparent"></div>
      </div>
    } @else if (chartData().length === 0) {
      <app-empty-state
        preset="trucks"
        size="sm"
      />
    } @else {
      <ngx-charts-bar-horizontal
        [view]="[chartWidth(), 350]"
        [scheme]="colorScheme"
        [results]="chartData()"
        [xAxis]="true"
        [yAxis]="true"
        [legend]="false"
        [showXAxisLabel]="true"
        [showYAxisLabel]="false"
        [xAxisLabel]="unit()"
        [gradient]="true"
        [roundDomains]="true"
        [roundEdges]="true">
      </ngx-charts-bar-horizontal>
    }
  </div>
</div>
