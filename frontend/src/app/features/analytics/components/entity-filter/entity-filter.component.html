<div class="flex flex-wrap items-start gap-4">
  <!-- Type Select -->
  <div class="flex flex-col gap-1">
    <label class="text-xs font-medium text-gray-600">Filtrer par</label>
    <select
      class="px-3 py-2 bg-white border border-gray-300 rounded-md text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 min-w-[160px]"
      [value]="localType"
      (change)="onTypeChange($event)">
      @for (option of typeOptions; track option.value) {
        <option [value]="option.value">{{ option.label }}</option>
      }
    </select>
  </div>

  @if (localType !== 'FLEET') {
    <!-- Entity Select -->
    <div class="flex flex-col gap-1">
      <label class="text-xs font-medium text-gray-600">
        {{ localType === 'GROUP' ? 'Groupe' : 'Camion' }}
      </label>
      @if (isLoading()) {
        <select
          class="px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-sm text-gray-500 min-w-[200px] cursor-not-allowed"
          disabled>
          <option>Chargement...</option>
        </select>
      } @else {
        <select
          class="px-3 py-2 bg-white border border-gray-300 rounded-md text-sm text-gray-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 min-w-[200px]"
          [value]="localEntityId || ''"
          (change)="onEntityChange($event)">
          <option value="">Sélectionner...</option>
          @for (entity of currentEntities(); track entity.id) {
            <option [value]="entity.id">
              {{ entity.name }}{{ entity.licensePlate ? ' (' + entity.licensePlate + ')' : '' }}
            </option>
          }
          @if (currentEntities().length === 0) {
            <option disabled>Aucun élément disponible</option>
          }
        </select>
      }
    </div>
  }
</div>
